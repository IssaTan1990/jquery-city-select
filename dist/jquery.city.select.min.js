!function(e,t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(this,function(){"use strict";var e;return e=function(e){return e.fn.extend({citylist:function(t){function a(t,a){var i,o=t.eq(0),r=t.eq(1),d=t.eq(2),l=0,p=0,c=[];c.push('<option value=""> -- 请选择 -- </option>');for(var s in a.data)a.data.hasOwnProperty(s)&&(i=a.data[s],c.push(a.idVal?"<option "+a.metaTag+'="'+i[a.id]+'" value="'+i[a.id]+'"'+(a.selected&&a.selected[0]==i[a.id]?n:"")+">"+i[a.name]+"</option>":"<option "+a.metaTag+'="'+i[a.id]+'" value="'+i[a.name]+'"'+(a.selected&&a.selected[0]==i[a.id]?n:"")+">"+i[a.name]+"</option>"));c=c.join(""),o.find("option").remove(),o.append(c);var u=o.find("option");o.on("change",function(){var t=e(this).val();u.each(function(i,c){return e(c).val()==t?function(t){var i=e(t).attr(a.metaTag);l=i;var c,s=[];s.push('<option value=""> -- 请选择 -- </option>');for(var u in a.data)if(a.data.hasOwnProperty(u)&&(c=a.data[u],c[a.id]==i&&c[a.children])){c=c[a.children];for(var h in c)c.hasOwnProperty(h)&&s.push(a.idVal?"<option "+a.metaTag+'="'+c[h][a.id]+'" value="'+c[h][a.id]+'"'+(a.selected&&a.selected[1]==c[h][a.id]?n:"")+">"+c[h][a.name]+"</option>":"<option "+a.metaTag+'="'+c[h][a.id]+'" value="'+c[h][a.name]+'"'+(a.selected&&a.selected[1]==c[h][a.id]?n:"")+">"+c[h][a.name]+"</option>");break}s=s.join(""),r.find("option").remove(),r.append(s),r.on("change",function(){var t=e(this).val(),i=r.find("option");i.each(function(i,c){return e(c).val()==t?function(t){var i=e(t).attr(a.metaTag);p=i;var c,s=[];s.push('<option value=""> -- 请选择 -- </option>');for(var u in a.data)if(a.data.hasOwnProperty(u)&&(c=a.data[u],c[a.id]==l)){if(c[a.children]){o.trigger("hasCity"),c=c[a.children];for(var h in c)if(c.hasOwnProperty(h)&&c[h][a.id]==p){if(c[h][a.children]){r.trigger("hasCounty"),h=c[h][a.children];for(var v in h)h.hasOwnProperty(v)&&s.push(a.idVal?"<option "+a.metaTag+'="'+h[v][a.id]+'" value="'+h[v][a.id]+'"'+(a.selected&&a.selected[2]==h[v][a.id]?n:"")+">"+h[v][a.name]+"</option>":"<option "+a.metaTag+'="'+h[v][a.id]+'" value="'+h[v][a.name]+'"'+(a.selected&&a.selected[2]==h[v][a.id]?n:"")+">"+h[v][a.name]+"</option>")}else d.hide(),r.trigger("emptyCounty");break}}else r.hide(),o.trigger("emptyCity");break}s=s.join(""),d.find("option").remove(),d.append(s)}(c):void 0})}).trigger("change",r.val())}(c):void 0})}).trigger("change",o.val())}t=e.extend({id:"id",name:"name",children:"children",metaTag:"data-extra",idVal:!1,data:!1,selected:!1},t);var i=e(this),n=' selected="selected"';switch(i.length){case 3:a(i,t);break;default:return this}return this}}),e}(jQuery)});