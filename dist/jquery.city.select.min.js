!function(e,a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a(require("jquery")):a(jQuery)}(this,function(){"use strict";var e;return e=function(e){return e.fn.extend({citylist:function(a){function t(a,t){var n,o=a.eq(0),r=a.eq(1),d=a.eq(2),c=0,p=0,l=[];l.push('<option value=""> -- 请选择 -- </option>');for(var u in t.data)t.data.hasOwnProperty(u)&&(n=t.data[u],l.push(t.idVal?"<option "+t.metaTag+'="'+n[t.id]+'" value="'+n[t.id]+'"'+(t.selected&&t.selected[0]==n[t.id]?i:"")+">"+n[t.name]+"</option>":"<option "+t.metaTag+'="'+n[t.id]+'" value="'+n[t.name]+'"'+(t.selected&&t.selected[0]==n[t.id]?i:"")+">"+n[t.name]+"</option>"));l=l.join(""),o.find("option").remove(),o.append(l);var s=o.find("option");o.on("change",function(){var a=e(this).val();s.each(function(n,o){return e(o).val()==a?function(a){var n=e(a).attr(t.metaTag);c=n;var o,l=[];l.push('<option value=""> -- 请选择 -- </option>');for(var u in t.data)if(t.data.hasOwnProperty(u)&&(o=t.data[u],o[t.id]==n&&o[t.children])){o=o[t.children];for(var s in o)o.hasOwnProperty(s)&&l.push(t.idVal?"<option "+t.metaTag+'="'+o[s][t.id]+'" value="'+o[s][t.id]+'"'+(t.selected&&t.selected[1]==o[s][t.id]?i:"")+">"+o[s][t.name]+"</option>":"<option "+t.metaTag+'="'+o[s][t.id]+'" value="'+o[s][t.name]+'"'+(t.selected&&t.selected[1]==o[s][t.id]?i:"")+">"+o[s][t.name]+"</option>");break}l=l.join(""),r.find("option").remove(),r.append(l),r.on("change",function(){var a=e(this).val(),n=r.find("option");n.each(function(n,o){return e(o).val()==a?function(a){var n=e(a).attr(t.metaTag);p=n;var o,r=[];r.push('<option value=""> -- 请选择 -- </option>');for(var l in t.data)if(t.data.hasOwnProperty(l)&&(o=t.data[l],o[t.id]==c&&o[t.children])){o=o[t.children];for(var u in o)if(o.hasOwnProperty(u)&&o[u][t.id]==p&&o[u][t.children]){u=o[u][t.children];for(var s in u)u.hasOwnProperty(s)&&r.push(t.idVal?"<option "+t.metaTag+'="'+u[s][t.id]+'" value="'+u[s][t.id]+'"'+(t.selected&&t.selected[2]==u[s][t.id]?i:"")+">"+u[s][t.name]+"</option>":"<option "+t.metaTag+'="'+u[s][t.id]+'" value="'+u[s][t.name]+'"'+(t.selected&&t.selected[2]==u[s][t.id]?i:"")+">"+u[s][t.name]+"</option>");break}break}r=r.join(""),d.find("option").remove(),d.append(r)}(o):void 0})}).trigger("change")}(o):void 0})}).trigger("change")}a=e.extend({id:"id",name:"name",children:"children",metaTag:"data-extra",idVal:!1,data:!1,selected:!1},a);var n=e(this),i=' selected="selected"';switch(n.length){case 3:t(n,a);break;default:return this}return this}}),e}(jQuery)});